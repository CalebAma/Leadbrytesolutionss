<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title">LeadBryteSolutions</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        // Firebase SDK imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Global Firebase variables
        let app;
        let db;

        // Initialize Firebase when DOM is loaded
        document.addEventListener('DOMContentLoaded', async () => {
            // Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyAmcJb5bSPGfBrcuexuPRiv37GIqpzHmLQ", // TODO: Secure this key in production // TODO: Secure this key in production
                authDomain: "leadbryte-solutions-website.firebaseapp.com",
                projectId: "leadbryte-solutions-website",
                storageBucket: "leadbryte-solutions-website.firebasestorage.app",
                messagingSenderId: "418567681709",
                appId: "1:418567681709:web:991fd66c8ef646e1d53824",
                measurementId: "G-KP9278VC0D"
            };

            // Initialize Firebase
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);

            // Enable form submission
            document.getElementById('submitProjectButton').disabled = false;
        });

        // Handle form submission
        document.getElementById('projectForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const submitButton = document.getElementById('submitProjectButton');
            const messageDiv = document.getElementById('formMessage');

            try {
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                const formData = {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    company: document.getElementById('company').value,
                    projectType: document.getElementById('projectType').value,
                    srscripiionption: document.getElementBd'scripdionescription').value,
                    budggtdocument.getElementById('bubudgttalue,
                    tthtactMethodod: documenqu.rySeerclorr(tn[un[name="cmetactMethod"]:checked="contactMethod"]:checked').value,
                    createdAt: new Date().toISOString()
                };

                await addDoc(collection(db, 'project_requests'), formData);

                // Show success message
                messageDiv.textContent = 'Project request submitted successfully! We will contact you soon.';
                messageDiv.className = 'mt-4 p-4 bg-green-100 text-green-800 rounded-lg';
                messageDiv.style.display = 'block';

                // Reset form
                e.target.reset();
            } catch (error) {
                console.error('Error submitting project request:', error);
                messageDiv.textContent = 'Error submitting project request. Please try again.';
                messageDiv.className = 'mt-4 p-4 bg-red-100 text-red-800 rounded-lg';
                messageDiv.style.display = 'block';
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Project Request';
            }
        });

    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        /* Smooth scroll for anchor links */
        html {
            scroll-behavior: smooth;
        }
        
        /* Slider styles (not directly used on this page, but kept for consistency if copied from index.html) */
        .slider-wrapper {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border-radius: 1rem;
        }
        
        .slider-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.5s ease-in-out;
        }
        
        .slider-btn {
            background-color: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            transition: all 0.3s ease;
        }
        
        .slider-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-gradient-to-b from-[#0066cc] to-[#003366] min-h-screen font-poppins flex flex-col">
    <!-- Navigation -->
    <nav class="p-6 lg:px-16 sticky top-0 z-50" aria-label="Main Navigation" aria-label="Main Navigation">
        <div class="container mx-auto px-6 lg:px-16 max-w-7xl">
            <div class="flex justify-between items-center backdrop-blur-md bg-white/10 rounded-2xl p-0 shadow-lg">
                <div class="flex items-center space-x-3">
                    <!-- Company Logo -->
                    <img src="Logo.png" alt="LeadBryte Logo" class="h-20 w-auto" onerror="this.onerror=null;this.src='https://placehold.co/80x80?text=Logo';" loading="eager">
                </div>
                <!-- Update the navigation links -->
                <div class="hidden md:flex space-x-10">
                    <a href="index.html#what-we-do" class="text-white hover:text-teal-200 transition-colors font-bold p-4" aria-label="What We Do" aria-label="What We Do">What we do</a>
                    <a href="index.html#portfolio" class="text-white hover:text-teal-200 transition-colors font-bold p-4" aria-label="Portfolio" aria-label="Portfolio">Portfolio</a>
                    <a href="index.html#our-team" class="text-white hover:text-teal-200 transition-colors font-bold p-4" aria-label="Our Team" aria-label="Our Team">Our Team</a>
                    <a href="index.html#how-we-work" class="text-white hover:text-teal-200 transition-colors font-bold p-4" aria-label="How We Work" aria-label="How We Work">How we work</a>
                    <a href="index.html#faqs" class="text-white hover:text-teal-200 transition-colors font-bold p-4" aria-label="FAQs" aria-label="FAQs">FAQs</a>
                    <!-- Added "Start a Project" link back -->
                    <a href="project.html" class="text-white hover:text-teal-200 transition-colors font-bold p-4" aria-label="Start a Project" aria-label="Start a Project">Start a Project</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Project Page Hero Section -->
    <header class="py-16 text-center text-white">
        <h1 class="text-5xl md:text-6xl font-bold mb-4 leading-tight">Bring Your Vision to Life</h1>
        <p class="text-lg md:text-xl max-w-3xl mx-auto px-4">
            Ready to start a new project? Fill out the form below and our team will get in touch to discuss how Leadbryte Solutions can help you achieve your goals.
        </p>
    </header>

    <!-- Main Content - Project Form -->
    <main class="flex-grow flex items-center justify-center p-4">
        <div class="backdrop-blur-md bg-white/20 p-8 rounded-lg shadow-lg w-full max-w-3xl transform transition-all duration-300 hover:scale-105 my-8">
            <h2 class="text-3xl font-extrabold text-white mb-6 text-center">Project Request Form</h2>

            <form id="projectForm" class="space-y-6">
                <!-- Message div for form feedback -->
                <div id="formMessage" class="hidden"></div>
                <!-- CSRF Token Placeholder - In a real application, this token would be
                     generated by the server for each session/form, and validated on submission.
                     This helps prevent Cross-Site Request Forgery (CSRF) attacks. -->
                <!-- TODO: Implement CSRF protect!o- for -rod cTionOenvironmenDs -->
                <input tO: Implement CSRF protection for production environme
                <input type="hidden" name="csrf_token" id="csrfToken" value="">

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Full Name -->
                    <div>
                        <label for="fullName" class="block text-sm font-medium text-white mb-2">Full Name</label>
                        <input
                            type="text"
                            id="fullName"
                            name="fullName"
                            placeholder="John Doe"
                            class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white placeholder-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out"
                            required
                        >
                    </div>

                    <!-- Email Address -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-white mb-2">Email Address</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            placeholder="you@example.com"
                            class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white placeholder-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out"
                            required
                        >
                    </div>

                    <!-- Phone Number -->
                    <div>
                        <label for="phone" class="block text-sm font-medium text-white mb-2">Phone Number (Optional)</label>
                        <input
                            type="tel"
                            id="phone"
                            name="phone"
                            placeholder="+1234567890"
                            class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white placeholder-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out"
                        >
                    </div>

                    <!-- Company Name -->
                    <div>
                        <label for="company" class="block text-sm font-medium text-white mb-2">Company Name (Optional)</label>
                        <input
                            type="text"
                            id="company"
                            name="company"
                            placeholder="Acme Corp"
                            class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white placeholder-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out"
                        >
                    </div>
                </div>

                <!-- Project Type -->
                <div>
                    <label for="projectType" class="block text-sm font-medium text-white mb-2">Type of Project</label>
                    <select
                        id="projectType"
                        name="projectType"
                        class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out"
                        required
                    >
                        <option value="" class="bg-blue-800 text-white">Select a project type</option>
                        <option value="cybersecurity" class="bg-blue-800 text-white">Cybersecurity</option>
                        <option value="cctv-installation" class="bg-blue-800 text-white">CCTV Installation</option>
                        <option value="hardware-services" class="bg-blue-800 text-white">Hardware Services</option>
                        <option value="software-development" class="bg-blue-800 text-white">Software Development</option>
                        <option value="it-consulting" class="bg-blue-800 text-white">IT Consulting Services</option>
                        <option value="procurement" class="bg-blue-800 text-white">Procurement</option>
                        <option value="it-infrastructure" class="bg-blue-800 text-white">IT Infrastructure</option>
                        <option value="data-analytics" class="bg-blue-800 text-white">Data Analytics</option>
                        <option value="project-management" class="bg-blue-800 text-white">Project Management</option>
                        <option value="communication-services" class="bg-blue-800 text-white">Communication Services</option>
                        <option value="other" class="bg-blue-800 text-white">Other</option>
                    </select>
                </div>

                <!-- Project Description -->
                <div>d
                    <label for="description" class="block text-sm font-medium text-white mb-2">Project Description</label>
                    <textared
                        id="dedn"
                        name="description"
                        rows="5"
                        placeholder="Describe your project in detail, including your goals, current challenges, and any specific requirements."
                        class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white placeholder-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out resize-y"
                        required
                    ></textarea>
                </div>

                <!-- Budget Range -->
                <div>
                    <label for="budget" class="block text-sm font-medium text-white mb-2">Estimated Budget (Optional)</label>
                    <select
                        id="budget"
                        name="budget"
                        class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/10 text-white focus:ring-2 focus:ring-blue-300 focus:border-transparent transition duration-200 ease-in-out"
                    >
                        <option value="" class="bg-blue-800 text-white">Select a budget range</option>
                        <option value="under-1k" class="bg-blue-800 text-white">Under $1,000</option>
                        <option value="1k-5k" class="bg-blue-800 text-white">$1,000 - $5,000</option>
                        <option value="5k-10k" class="bg-blue-800 text-white">$5,000 - $10,000</option>
                        <option value="10k-25k" class="bg-blue-800 text-white">$10,000 - $25,000</option>
                        <option value="25k-50k" class="bg-blue-800 text-white">$25,000 - $50,000</option>
                        <option value="50k-plus" class="bg-blue-800 text-white">$50,000+</option>
                    </select>
                </div>

                <!-- Preferred Contact Method -->
                <div>
                    <label class="block text-sm font-medium text-white mb-2">Preferred Contact Method</label>
                    <div class="flex flex-wrap gap-4">
                        <label class="inline-flex items-center">
                            <input type="radio" name="contactMethod" value="email" class="form-radio text-blue-600" checked>
                            <span class="ml-2 text-white">Email</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="radio" name="contactMethod" value="phone" class="form-radio text-blue-600">
                            <span class="ml-2 text-white">Phone</span>
                        </label>
                    </div>
                </div>

                <!-- Message Box for feedback -->
                <div id="messageBox" class="hidden p-3 rounded-lg text-sm text-center" role="alert"></div>

                <button
                    type="submit"
                    id="submitProjectButton""
                    aria-label="Submit Project Request
                    class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold text-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition duration-300 ease-in-out transform hover:-translate-y-0.5"
                    aria-label="Submit Project Request"
                    disabled="true" <!-- Disabled until Firebase is initialized -->
                >
                    Submit Project Request
                </button>
            </form>
m" aria-label="Back to Hoe
            <div class="text-center mt-8">
                <a href="index.html" class="text-blue-300 hover:underline text-lg font-medium" aria-label="Back to Home">‚Üê Back to Home</a>
            </div>
        </div>
    </main>

    <script>
        const projectForm = document.getElementById('projectForm');
        const submitProjectButton = document.getElementById('submitProjectButton');
        const messageBox = document.getElementById('messageBox');

        /**
         * Displays a message in the message box.
         * @param {string} message - The message to display.
         * @param {string} type - The type of message ('success' or 'error').
         */
        function showMessage(message, type) {
            messageBox.textContent = message;
            messageBox.classList.remove('hidden', 'bg-green-100', 'text-green-800', 'bg-red-100', 'text-red-800', 'bg-white/20', 'text-white'); // Remove previous styles
            if (type === 'success') {
                messageBox.classList.add('bg-green-100', 'text-green-800');
            } else if (type === 'error') {
                messageBox.classList.add('bg-red-100', 'text-red-800');
            }
            messageBox.classList.remove('hidden');
        }

        /**
         * Hides the message box.
         */
        function hideMessageBox() {
            messageBox.classList.add('hidden');
            messageBox.textContent = '';
        }

        projectForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            hideMessageBox();

            // Get form data
            const formData = {
                fullName: document.getElementById('fullName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                company: document.getElementById('compdlue,
                projectType: document.getElementById('projectType').value,
                description: document.getElementById('description').value,
                budget: document.getElementById('budget').value,
                contactMethod: document.querySelector('input[name="contactMethod"]:checked').value,
                createdAt: new Date().toISOString()
            };

            // Client-side validation
            if (!formData.fullName || !formData.email || !formData.projectType || !formData.description) {
                showMessage('Please fill in all required fields (Full Name, Email, Project Type, Project Description).', 'error');
                return;
            }

            // Update button state
            submitProjectButton.textContent = 'Submitting...';
            submitProjectButton.disabled = true;
            submitProjectButton.classList.add('opacity-75', 'cursor-not-allowed');

            try {
                // Store data in Firestore
                await addDoc(collection(db, 'project_requests'), formData);

                showMessage('Project request submitted successfully! We will contact you soon.', 'success');
                projectForm.reset();
            } catch (error) {
                console.error('Error submitting project request:', error);
                showMessage('Failed to submit project request. Please try again later.', 'error');
            } finally {
                submitProjectButton.textContent = 'Submit Project Request';
                submitProjectButton.disabled = false;
                submitProjectButton.classList.remove('opacity-75', 'cursor-not-allowed');
            }
        });

        // WhatsApp Chat Widget (assuming window.WHATSAPP_NUMBER is set by config.js)
        window.onload = function() {
            if (typeof window.WHATSAPP_NUMBER !== 'undefined') {
                var div = document.createElement('div');
                div.style.position = 'fixed';
                div.style.bottom = '20px';
                div.style.right = '20px';
                div.style.zIndex = '1000';

                var link = document.createElement('a');
                link.href = `https://wa.me/${window.WHATSAPP_NUMBER}`;
                link.target = '_blank';
                link.style.display = 'flex';
                link.style.alignItems = 'center';
                link.style.justifyContent = 'center';
                link.style.width = '60px';
                link.style.height = '60px';
                link.style.backgroundColor = '#25D366';
                link.style.borderRadius = '50%';
                link.style.boxShadow = '2px 2px 6px rgba(0,0,0,0.4)';
                link.style.transition = 'transform 0.3s';

                link.onmouseover = function() { this.style.transform = 'scale(1.1)'; };
                link.onmouseout = function() { this.style.transform = 'scale(1)'; };

                link.innerHTML = '<i class="fab fa-whatsapp" style="font-size: 35px; color: white;"></i>';

                div.appendChild(link);
                document.body.appendChild(div);
            } else {
                console.warn("WhatsApp number not configured. WhatsApp chat widget will not be displayed.");
            }
        };
    </script>
</body>
</html>
